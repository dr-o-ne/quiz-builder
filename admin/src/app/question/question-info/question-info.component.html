<vex-page-layout> 
  <vex-page-layout-content class="container">

    <div class="card main-color">

      <app-options-menu [options]="options"></app-options-menu>
  
      <mat-tab-group>
  
        <mat-tab label="{{questionLangService.getQuestionTypeLangTerm(question.type)}}">
  
          <ng-template matTabContent>
  
            <form [formGroup]="questionForm">
  
              <div class="container pt-gutter">
   
                <mat-form-field fxFlex="60" appearance="outline">
                  <mat-label>Name</mat-label>
                  <input matInput type="text" formControlName="name">
                </mat-form-field>
                
                <mat-checkbox fxFlexOffset="20" fxFlexAlign="center" formControlName="isRequired" color="primary" class="padding-bottom-fix">
                  Is Required
                </mat-checkbox>

                <mat-form-field fxFlex="10" fxFlexOffset="2" appearance="outline">
                  <mat-label>Points</mat-label>
                  <input matInput type="number" formControlName="points">
                </mat-form-field>
  
              </div>
  
              <div class="container pb-gutter">
                <div class="card editor">
                  <quill-editor
                        @fadeInUp
                        formControlName="text"
                        [styles]="{ flex: '1 1 auto' }"
                        (onContentChanged)="onContentChanged($event);">
                  </quill-editor>
                </div>
              </div>
  
              <div *ngFor="let option of getQuestionOptions()">
                <div *ngIf="option.type == 'wysiwyg'">
                  <div class="p-gutter container">
                    <div class="card editor">
                      <quill-editor
                            @fadeInUp
                            formControlName={{option.name}}
                            [styles]="{ flex: '1 1 auto' }"
                            (onContentChanged)="onContentChanged($event);">
                      </quill-editor>
                    </div>
                  </div>
                </div>
              </div>
  
            </form>
  
          </ng-template>
  
        </mat-tab>
  
      </mat-tab-group>

    </div>

    <app-choice-dynamic [question]="question"></app-choice-dynamic>

    <div class="footer-stick row"
      fxLayout
      fxLayoutAlign="center"
      fxLayout.xs="column"
      fxLayoutWrap="wrap"
      fxLayoutGap="1%">

      <button mat-raised-button 
        color="accent" 
        type="submit"
        (click)="onSave()"
        [disabled]="isDisabledBtn()">
        
        Save

      </button>

      <button mat-raised-button 
        color="accent" 
        (click)="onReturn()">

        Return

      </button>
    </div>


  </vex-page-layout-content>
</vex-page-layout>

 